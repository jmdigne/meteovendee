Projet -- EVE Vendée Météo 
=======================================

Fichiers et Répertoires
------------------------

meteovendee/
- bin
- captures
- gifs
- www
- images
- logs

1 - bash --lister les fichiers vieux de moins d'une heure

 
# Lister les fichiers jpg de moins d'une heure
find  .  -mmin -20 -iname '*.jpg'

# Pour chaque fichier jpg de moins d'une heure faire echo du nom
for line in $(find  .  -mmin -20 -iname '*.jpg'); do 
	 echo "New file "
     echo $line
done
 


2 - fswebcam -- Capturer une image WebCam home.jpg

fswebcam -r 640x480 --title "Meudon-La-Forêt" --jpeg 95 --font sans:15 --subtitle "WeatherCam @Meudon" --info "Motorisé par Raspberry Pi" --save home1.jpg


3 - bash -- Mettre dans le nom du fichier l'heure et la date

$(date +%Y%m%d)_$(date +%H%M)_WeatherCam.jpg

fswebcam -r 640x480 --title "Meudon-La-Forêt" --jpeg 95 --font sans:15 --subtitle "WeatherCam @Meudon" --info "Motorisé par Raspberry Pi" --save $(date +%Y%m%d)_$(date +%H%M)_WeatherCam.jpg

4 - fswebcam -- Capturer une image caméra extérieure /dev/video1

-- device /dev/video1

5 - fswebcam -- Boucle de capture 1 Heure / 1 image par minute -> 60 Minutes

- l 60 ( 1 images toutes les 60 secondes)
--exec ./renamewebcam.sh

--> donc tout capturer avec le mon webcam.jpg puis rlancer un script de renomage de fichier

#!/bin/bash
#
cp webcam.jpg $(date +%Y%m%d)_$(date +%H%M)_WeatherCam.jpg 

==> Capture des images toutes avec le même nom donc 


6 - gifsicle -- Séquence d'images GIF Animé

https://jmmiddleware.wordpress.com/2018/01/16/piprojects-capture-dimage-et-sequences-de-gifs/


#!/usr/bin/env bash
for (( i = 0; i < 10; i++ )); do
	raspistill -h 486 -w 648 -a 1036 -vf -hf --encoding gif  -o /var/www/tempgifs/cam${i}.gif
done
gifsicle --delay=10 --colors 256  --loop /var/www/tempgifs/cam*  > /var/www/tempgifs/camd.gif
mv /var/www/tempgifs/camd.gif /var/www/camd.gif
raspistill -h 486 -w 648 -a 1036 -ae +25+25 -vf -hf -o /var/www/camd.jpg
#the images are uploaded to tumblr via  a python script

